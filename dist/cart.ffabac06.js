var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequire8cd9;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequire8cd9=a);var n=a("jQQXv"),o=a("1tHc5"),d=a("6naOk"),c=a("2EF88");c=a("2EF88");const i=document.getElementById("cart"),l=document.getElementById("total"),u=document.getElementById("checkout__Form");let s=[],p=0,g=[];function m(e){e.forEach((e=>{const{name:t,price:r}=e,a={name:t,price:r};g.push(a),function(e){const t=document.createElement("li");t.className="product",t.innerHTML=`\n    <img src="${e.images[0]}" class="product__image">\n    <h2 class="product__name">${e.name}</h2>\n    <h3 class="product__price">${c.currencyFormat(e.price)}</h3>\n    <button class="product__delete">X</button>\n    `,i.appendChild(t),t.addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(console.log("remove it!"),alert("Log in to remove"),async function(e){const t=s.filter((t=>t.id!==e));s=t,userLogged&&await d.createFirebaseCart(n.db,userLogged.uid,t);c.addProductToCart(t),i.innerHTML="",m(t)}(e.id))}))}(e),p+=parseInt(e.price)})),l.innerText=c.currencyFormat(p)}u.addEventListener("submit",(async e=>{e.preventDefault();const t={userInfo:{name:u.name.value,address:u.address.value,city:u.city.value,cellphone:u.cellphone.value},paymentInfo:{cardNum:u.card.value,expiration:u.expiration.value,code:u.code.value},order:g,total:p};await d.createFirebaseOrder(n.db,userLogged.uid,t),alert("ORDER READY"),d.deleteCart(n.db,userLogged.uid),c.deleteMyLocalCart(),u.reset()})),o.onAuthStateChanged(n.auth,(async e=>{e?(userLogged=e,s=await d.getFirebaseCart(n.db,userLogged.uid)):s=c.getMyLocalCart(),m(s)}));
//# sourceMappingURL=cart.ffabac06.js.map
